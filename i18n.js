// i18n translations for SelectWise
const translations = {
  'en': {
    // Panel
    'panel_title': 'SelectWise Analysis',
    'analyzing': 'Analyzing with AI...',
    'original_text': 'Original Text',
    'translation': 'Translation',
    'analysis': 'Analysis',
    'tags': 'Tags',
    'examples': 'Examples',
    'related_vocabulary': 'Related Vocabulary',
    'save_to_notion': 'Save to Notion',
    'saving': 'Saving...',
    'saved_success': '✓ Saved successfully!',
    'error': 'Error',
    
    // Settings
    'settings_title': 'SelectWise Settings',
    'settings_subtitle': 'Configure your API keys and preferences',
    'gemini_api_key': 'Gemini API Key',
    'gemini_api_key_required': 'Gemini API Key',
    'gemini_api_key_placeholder': 'Enter your Gemini API key',
    'gemini_api_key_helper': 'Get your API key from',
    'target_language': 'Target Language',
    'target_language_required': 'Target Language',
    'target_language_helper': 'Language for translations and analysis',
    'ui_language': 'Interface Language',
    'ui_language_helper': 'Language for user interface',
    'notion_integration': 'Notion Integration (Optional)',
    'notion_token': 'Notion Integration Token',
    'notion_token_placeholder': 'secret_xxxxxxxxxxxxxx',
    'notion_token_helper': 'Create an integration at',
    'notion_database_id': 'Notion Database ID',
    'notion_database_id_placeholder': 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',
    'notion_database_id_helper': 'Find the database ID in your Notion database URL',
    'notion_database_structure': 'Required database properties: Name (Title), Translation (Text), Type (Select: Word/Sentence), Analysis (Text), Examples (Text), Tags (Multi-select), URL (URL)',
    'save_settings': 'Save Settings',
    'reset': 'Reset',
    'settings_saved': 'Settings saved successfully!',
    'settings_reset_confirm': 'Are you sure you want to reset all settings?',
    'settings_reset_message': 'Settings reset. Click "Save Settings" to apply.',
    'please_enter_api_key': 'Please enter your Gemini API key',
    'failed_to_save': 'Failed to save settings',
    
    // Popup
    'popup_subtitle': 'AI-Powered Text Analysis',
    'popup_instruction': 'Select any text on a webpage to analyze it with AI!',
    'popup_feature_1': 'Smart translations',
    'popup_feature_2': 'Deep analysis',
    'popup_feature_3': 'Example sentences',
    'popup_feature_4': 'Save to Notion',
    'open_settings': 'Open Settings',
    'popup_footer': 'Made with ❤️ for language learners',
    
    // Notion errors
    'notion_error_title': 'Failed to save to Notion',
    'notion_error_check_token': 'Check: Is the Integration Token correct?',
    'notion_error_check_db': 'Check: Is the Database ID correct? (32 characters)',
    'notion_error_check_share': 'Confirm: Is the database shared with the Integration?',
    'notion_error_check_props': 'Verify: Does the database contain all required properties?',
    'notion_configure': 'Please configure Notion integration in settings',
    
    // Notion database management
    'notion_databases': 'Notion Databases',
    'add_database': 'Add Database',
    'edit_database': 'Edit',
    'delete_database': 'Delete',
    'set_default': 'Set as Default',
    'default_database': 'Default',
    'database_name': 'Database Name',
    'fetching_name': 'Fetching name...',
    'delete_confirm': 'Are you sure you want to delete this database?',
    'no_databases': 'No databases configured. Click "Add Database" to add one.',
    'select_database': 'Select Database',
    'last_used': 'Last Used',
    
    // History
    'history': 'History',
    'search_history': 'Search history...',
    'clear_all': 'Clear All',
    'no_history': 'No analysis history yet',
    'delete_item': 'Delete',
    'save_again': 'Save to Notion',
    'view_original': 'View Original',
    'export_history': 'Export',
    'import_history': 'Import',
    'history_policy': 'History Policy',
    'history_policy_desc': 'Automatically saves your last 100 analysis results. Older records are automatically deleted. Export your history regularly to avoid data loss.',
    
    // Statistics
    'statistics': 'Statistics',
    'today': 'Today',
    'this_week': 'This Week',
    'this_month': 'This Month',
    'total_analyses': 'Total Analyses',
    'total_saves': 'Total Saves',
    'analyses_count': 'analyses',
    'saves_count': 'saves',
    
    // Config Import/Export
    'export_config': 'Export Config',
    'import_config': 'Import Config',
    'config_exported': 'Configuration exported successfully!',
    'config_imported': 'Configuration imported successfully!',
    'invalid_config': 'Invalid configuration file'
  },
  
  'zh-CN': {
    // Panel
    'panel_title': 'SelectWise 分析',
    'analyzing': '正在使用 AI 分析...',
    'original_text': '原文',
    'translation': '翻译',
    'analysis': '分析',
    'tags': '标签',
    'examples': '例句',
    'related_vocabulary': '相关词汇',
    'save_to_notion': '保存到 Notion',
    'saving': '保存中...',
    'saved_success': '✓ 保存成功！',
    'error': '错误',
    
    // Settings
    'settings_title': 'SelectWise 设置',
    'settings_subtitle': '配置你的 API 密钥和偏好设置',
    'gemini_api_key': 'Gemini API 密钥',
    'gemini_api_key_required': 'Gemini API 密钥',
    'gemini_api_key_placeholder': '输入你的 Gemini API 密钥',
    'gemini_api_key_helper': '从以下网址获取 API 密钥',
    'target_language': '目标语言',
    'target_language_required': '目标语言',
    'target_language_helper': '用于翻译和分析的语言',
    'ui_language': '界面语言',
    'ui_language_helper': '用户界面显示语言',
    'notion_integration': 'Notion 集成（可选）',
    'notion_token': 'Notion Integration Token',
    'notion_token_placeholder': 'secret_xxxxxxxxxxxxxx',
    'notion_token_helper': '在此处创建集成',
    'notion_database_id': 'Notion 数据库 ID',
    'notion_database_id_placeholder': 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',
    'notion_database_id_helper': '在 Notion 数据库 URL 中找到数据库 ID',
    'notion_database_structure': '必需的数据库属性：Name（标题）、Translation（文本）、Type（选择：Word/Sentence）、Analysis（文本）、Examples（文本）、Tags（多选）、URL（网址）',
    'save_settings': '保存设置',
    'reset': '重置',
    'settings_saved': '设置保存成功！',
    'settings_reset_confirm': '确定要重置所有设置吗？',
    'settings_reset_message': '设置已重置。点击"保存设置"以应用。',
    'please_enter_api_key': '请输入你的 Gemini API 密钥',
    'failed_to_save': '保存设置失败',
    
    // Popup
    'popup_subtitle': 'AI 驱动的文本分析',
    'popup_instruction': '在网页上选择任何文本即可使用 AI 分析！',
    'popup_feature_1': '智能翻译',
    'popup_feature_2': '深度分析',
    'popup_feature_3': '例句展示',
    'popup_feature_4': '保存到 Notion',
    'open_settings': '打开设置',
    'popup_footer': '用 ❤️ 为语言学习者打造',
    
    // Notion errors
    'notion_error_title': '保存到 Notion 失败',
    'notion_error_check_token': '检查：Integration Token 是否正确？',
    'notion_error_check_db': '检查：Database ID 是否正确？（32位字符）',
    'notion_error_check_share': '确认：数据库已共享给 Integration？',
    'notion_error_check_props': '验证：数据库包含所有必需的属性？',
    'notion_configure': '请在设置中配置 Notion 集成',
    
    // Notion database management
    'notion_databases': 'Notion 数据库',
    'add_database': '添加数据库',
    'edit_database': '编辑',
    'delete_database': '删除',
    'set_default': '设为默认',
    'default_database': '默认',
    'database_name': '数据库名称',
    'fetching_name': '获取名称中...',
    'delete_confirm': '确定要删除这个数据库吗？',
    'no_databases': '未配置数据库。点击“添加数据库”以添加。',
    'select_database': '选择数据库',
    'last_used': '上次使用',
    
    // History
    'history': '历史记录',
    'search_history': '搜索历史...',
    'clear_all': '清空所有',
    'no_history': '还没有分析历史',
    'delete_item': '删除',
    'save_again': '保存到 Notion',
    'view_original': '查看原文',
    'export_history': '导出',
    'import_history': '导入',
    'history_policy': '历史记录策略',
    'history_policy_desc': '自动保存最近100条分析记录。旧记录会自动删除。请定期导出历史记录以避免数据丢失。',
    
    // Statistics
    'statistics': '统计数据',
    'today': '今日',
    'this_week': '本周',
    'this_month': '本月',
    'total_analyses': '总分析数',
    'total_saves': '总保存数',
    'analyses_count': '次分析',
    'saves_count': '次保存',
    
    // Config Import/Export
    'export_config': '导出配置',
    'import_config': '导入配置',
    'config_exported': '配置导出成功！',
    'config_imported': '配置导入成功！',
    'invalid_config': '配置文件无效'
  },
  
  'ja': {
    // Panel
    'panel_title': 'SelectWise 分析',
    'analyzing': 'AIで分析中...',
    'original_text': '原文',
    'translation': '翻訳',
    'analysis': '分析',
    'tags': 'タグ',
    'examples': '例文',
    'related_vocabulary': '関連語彙',
    'save_to_notion': 'Notionに保存',
    'saving': '保存中...',
    'saved_success': '✓ 保存しました！',
    'error': 'エラー',
    
    // Settings
    'settings_title': 'SelectWise 設定',
    'settings_subtitle': 'APIキーと設定を構成',
    'gemini_api_key': 'Gemini APIキー',
    'gemini_api_key_required': 'Gemini APIキー',
    'gemini_api_key_placeholder': 'Gemini APIキーを入力',
    'gemini_api_key_helper': 'APIキーを取得',
    'target_language': 'ターゲット言語',
    'target_language_required': 'ターゲット言語',
    'target_language_helper': '翻訳と分析に使用する言語',
    'ui_language': 'インターフェース言語',
    'ui_language_helper': 'ユーザーインターフェースの言語',
    'notion_integration': 'Notion 統合（オプション）',
    'notion_token': 'Notion Integration Token',
    'notion_token_placeholder': 'secret_xxxxxxxxxxxxxx',
    'notion_token_helper': 'こちらで統合を作成',
    'notion_database_id': 'Notion データベース ID',
    'notion_database_id_placeholder': 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',
    'notion_database_id_helper': 'Notion データベース URL でデータベース ID を確認',
    'notion_database_structure': '必要なデータベースプロパティ：Name（タイトル）、Translation（テキスト）、Type（選択：Word/Sentence）、Analysis（テキスト）、Examples（テキスト）、Tags（マルチセレクト）、URL（URL）',
    'save_settings': '設定を保存',
    'reset': 'リセット',
    'settings_saved': '設定を保存しました！',
    'settings_reset_confirm': 'すべての設定をリセットしますか？',
    'settings_reset_message': '設定をリセットしました。「設定を保存」をクリックして適用してください。',
    'please_enter_api_key': 'Gemini APIキーを入力してください',
    'failed_to_save': '設定の保存に失敗しました',
    
    // Popup
    'popup_subtitle': 'AI搭載テキスト分析',
    'popup_instruction': 'Webページのテキストを選択してAIで分析！',
    'popup_feature_1': 'スマート翻訳',
    'popup_feature_2': '詳細な分析',
    'popup_feature_3': '例文表示',
    'popup_feature_4': 'Notion に保存',
    'open_settings': '設定を開く',
    'popup_footer': '言語学習者のために ❤️ で作成',
    
    // Notion errors
    'notion_error_title': 'Notion への保存に失敗しました',
    'notion_error_check_token': '確認：Integration Token は正しいですか？',
    'notion_error_check_db': '確認：Database ID は正しいですか？（32文字）',
    'notion_error_check_share': '確認：データベースは Integration と共有されていますか？',
    'notion_error_check_props': '確認：データベースに必要なプロパティがすべて含まれていますか？',
    'notion_configure': '設定で Notion 統合を構成してください',
    
    // Notion database management
    'notion_databases': 'Notion データベース',
    'add_database': 'データベースを追加',
    'edit_database': '編集',
    'delete_database': '削除',
    'set_default': 'デフォルトに設定',
    'default_database': 'デフォルト',
    'database_name': 'データベース名',
    'fetching_name': '名前を取得中...',
    'delete_confirm': 'このデータベースを削除しますか？',
    'no_databases': 'データベースが設定されていません。「データベースを追加」をクリックしてください。',
    'select_database': 'データベースを選択',
    'last_used': '最後に使用',
    
    // History
    'history': '履歴',
    'search_history': '履歴を検索...',
    'clear_all': 'すべてクリア',
    'no_history': '分析履歴がまだありません',
    'delete_item': '削除',
    'save_again': 'Notionに保存',
    'view_original': '原文を表示',
    'export_history': 'エクスポート',
    'import_history': 'インポート',
    'history_policy': '履歴ポリシー',
    'history_policy_desc': '最近100件の分析結果を自動保存します。古い記録は自動的に削除されます。データの紛失を防ぐため、定期的に履歴をエクスポートしてください。',
    
    // Statistics
    'statistics': '統計',
    'today': '今日',
    'this_week': '今週',
    'this_month': '今月',
    'total_analyses': '総分析数',
    'total_saves': '総保存数',
    'analyses_count': '回の分析',
    'saves_count': '回の保存',
    
    // Config Import/Export
    'export_config': '設定をエクスポート',
    'import_config': '設定をインポート',
    'config_exported': '設定をエクスポートしました！',
    'config_imported': '設定をインポートしました！',
    'invalid_config': '無効な設定ファイル'
  },
  
  'es': {
    // Panel
    'panel_title': 'Análisis SelectWise',
    'analyzing': 'Analizando con IA...',
    'original_text': 'Texto Original',
    'translation': 'Traducción',
    'analysis': 'Análisis',
    'tags': 'Etiquetas',
    'examples': 'Ejemplos',
    'related_vocabulary': 'Vocabulario Relacionado',
    'save_to_notion': 'Guardar en Notion',
    'saving': 'Guardando...',
    'saved_success': '✓ ¡Guardado con éxito!',
    'error': 'Error',
    
    // Settings
    'settings_title': 'Configuración de SelectWise',
    'settings_subtitle': 'Configure sus claves API y preferencias',
    'gemini_api_key': 'Clave API de Gemini',
    'gemini_api_key_required': 'Clave API de Gemini',
    'gemini_api_key_placeholder': 'Ingrese su clave API de Gemini',
    'gemini_api_key_helper': 'Obtenga su clave API de',
    'target_language': 'Idioma de Destino',
    'target_language_required': 'Idioma de Destino',
    'target_language_helper': 'Idioma para traducciones y análisis',
    'ui_language': 'Idioma de la Interfaz',
    'ui_language_helper': 'Idioma de la interfaz de usuario',
    'notion_integration': 'Integración de Notion (Opcional)',
    'notion_token': 'Token de Integración de Notion',
    'notion_token_placeholder': 'secret_xxxxxxxxxxxxxx',
    'notion_token_helper': 'Crear una integración en',
    'notion_database_id': 'ID de Base de Datos de Notion',
    'notion_database_id_placeholder': 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',
    'notion_database_id_helper': 'Encuentra el ID en la URL de tu base de datos',
    'save_settings': 'Guardar Configuración',
    'reset': 'Restablecer',
    'settings_saved': '¡Configuración guardada con éxito!',
    'settings_reset_confirm': '¿Estás seguro de que quieres restablecer toda la configuración?',
    'settings_reset_message': 'Configuración restablecida. Haz clic en "Guardar Configuración" para aplicar.',
    'please_enter_api_key': 'Por favor ingresa tu clave API de Gemini',
    'failed_to_save': 'Error al guardar la configuración',
    
    // Popup
    'popup_subtitle': 'Análisis de Texto con IA',
    'popup_instruction': '¡Selecciona cualquier texto en una página web para analizarlo con IA!',
    'popup_feature_1': 'Traducciones inteligentes',
    'popup_feature_2': 'Análisis profundo',
    'popup_feature_3': 'Oraciones de ejemplo',
    'popup_feature_4': 'Guardar en Notion',
    'open_settings': 'Abrir Configuración',
    'popup_footer': 'Hecho con ❤️ para estudiantes de idiomas',
    
    // Notion errors
    'notion_error_title': 'Error al guardar en Notion',
    'notion_error_check_token': 'Verificar: ¿El Integration Token es correcto?',
    'notion_error_check_db': 'Verificar: ¿El Database ID es correcto? (32 caracteres)',
    'notion_error_check_share': 'Confirmar: ¿La base de datos está compartida con la Integration?',
    'notion_error_check_props': 'Verificar: ¿La base de datos contiene todas las propiedades requeridas?',
    'notion_configure': 'Por favor configure la integración de Notion en la configuración',
    
    // Notion database management
    'notion_databases': 'Bases de Datos de Notion',
    'add_database': 'Agregar Base de Datos',
    'edit_database': 'Editar',
    'delete_database': 'Eliminar',
    'set_default': 'Establecer como Predeterminada',
    'default_database': 'Predeterminada',
    'database_name': 'Nombre de la Base de Datos',
    'fetching_name': 'Obteniendo nombre...',
    'delete_confirm': '¿Éstá seguro de que desea eliminar esta base de datos?',
    'no_databases': 'No hay bases de datos configuradas. Haga clic en "Agregar Base de Datos" para añadir una.',
    'select_database': 'Seleccionar Base de Datos',
    'last_used': 'Usado Recientemente',
    
    // History
    'history': 'Historial',
    'search_history': 'Buscar en historial...',
    'clear_all': 'Limpiar Todo',
    'no_history': 'Aún no hay historial de análisis',
    'delete_item': 'Eliminar',
    'save_again': 'Guardar en Notion',
    'view_original': 'Ver Original',
    'export_history': 'Exportar',
    'import_history': 'Importar',
    'history_policy': 'Política de Historial',
    'history_policy_desc': 'Guarda automáticamente los últimos 100 resultados de análisis. Los registros antiguos se eliminan automáticamente. Exporte su historial regularmente para evitar pérdida de datos.',
    
    // Statistics
    'statistics': 'Estadísticas',
    'today': 'Hoy',
    'this_week': 'Esta Semana',
    'this_month': 'Este Mes',
    'total_analyses': 'Análisis Totales',
    'total_saves': 'Guardados Totales',
    'analyses_count': 'análisis',
    'saves_count': 'guardados',
    
    // Config Import/Export
    'export_config': 'Exportar Configuración',
    'import_config': 'Importar Configuración',
    'config_exported': '¡Configuración exportada con éxito!',
    'config_imported': '¡Configuración importada con éxito!',
    'invalid_config': 'Archivo de configuración inválido'
  },
  
  'fr': {
    // Panel
    'panel_title': 'Analyse SelectWise',
    'analyzing': 'Analyse IA en cours...',
    'original_text': 'Texte Original',
    'translation': 'Traduction',
    'analysis': 'Analyse',
    'tags': 'Étiquettes',
    'examples': 'Exemples',
    'related_vocabulary': 'Vocabulaire Connexe',
    'save_to_notion': 'Enregistrer dans Notion',
    'saving': 'Enregistrement...',
    'saved_success': '✓ Enregistré avec succès !',
    'error': 'Erreur',
    
    // Settings
    'settings_title': 'Paramètres SelectWise',
    'settings_subtitle': 'Configurez vos clés API et préférences',
    'gemini_api_key': 'Clé API Gemini',
    'gemini_api_key_required': 'Clé API Gemini',
    'gemini_api_key_placeholder': 'Entrez votre clé API Gemini',
    'gemini_api_key_helper': 'Obtenez votre clé API sur',
    'target_language': 'Langue Cible',
    'target_language_required': 'Langue Cible',
    'target_language_helper': 'Langue pour les traductions et analyses',
    'ui_language': 'Langue de l\'Interface',
    'ui_language_helper': 'Langue de l\'interface utilisateur',
    'notion_integration': 'Intégration Notion (Optionnel)',
    'notion_token': 'Notion Integration Token',
    'notion_token_placeholder': 'secret_xxxxxxxxxxxxxx',
    'notion_token_helper': 'Créez une intégration sur',
    'notion_database_id': 'ID de Base de Données Notion',
    'notion_database_id_placeholder': 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',
    'notion_database_id_helper': 'Trouvez l\'ID de la base de données dans l\'URL Notion',
    'notion_database_structure': 'Propriétés requises de la base de données : Name (Titre), Translation (Texte), Type (Sélection : Word/Sentence), Analysis (Texte), Examples (Texte), Tags (Multi-sélection), URL (URL)',
    'save_settings': 'Enregistrer les Paramètres',
    'reset': 'Réinitialiser',
    'settings_saved': 'Paramètres enregistrés avec succès !',
    'settings_reset_confirm': 'Êtes-vous sûr de vouloir réinitialiser tous les paramètres ?',
    'settings_reset_message': 'Paramètres réinitialisés. Cliquez sur "Enregistrer les Paramètres" pour appliquer.',
    'please_enter_api_key': 'Veuillez entrer votre clé API Gemini',
    'failed_to_save': 'Échec de l\'enregistrement des paramètres',
    
    // Popup
    'popup_subtitle': 'Analyse de Texte par IA',
    'popup_instruction': 'Sélectionnez n\'importe quel texte sur une page web pour l\'analyser avec l\'IA !',
    'popup_feature_1': 'Traductions intelligentes',
    'popup_feature_2': 'Analyse approfondie',
    'popup_feature_3': 'Phrases d\'exemple',
    'popup_feature_4': 'Enregistrer dans Notion',
    'open_settings': 'Ouvrir les Paramètres',
    'popup_footer': 'Fait avec ❤️ pour les apprenants de langues',
    
    // Notion errors
    'notion_error_title': 'Échec de l\'enregistrement dans Notion',
    'notion_error_check_token': 'Vérifier : Le Integration Token est-il correct ?',
    'notion_error_check_db': 'Vérifier : Le Database ID est-il correct ? (32 caractères)',
    'notion_error_check_share': 'Confirmer : La base de données est-elle partagée avec l\'Integration ?',
    'notion_error_check_props': 'Vérifier : La base de données contient-elle toutes les propriétés requises ?',
    'notion_configure': 'Veuillez configurer l\'intégration Notion dans les paramètres',
    
    // Notion database management
    'notion_databases': 'Bases de Données Notion',
    'add_database': 'Ajouter une Base de Données',
    'edit_database': 'Modifier',
    'delete_database': 'Supprimer',
    'set_default': 'Définir par Défaut',
    'default_database': 'Par Défaut',
    'database_name': 'Nom de la Base de Données',
    'fetching_name': 'Récupération du nom...',
    'delete_confirm': 'Êtes-vous sûr de vouloir supprimer cette base de données ?',
    'no_databases': 'Aucune base de données configurée. Cliquez sur "Ajouter une Base de Données" pour en ajouter une.',
    'select_database': 'Sélectionner une Base de Données',
    'last_used': 'Dernière Utilisation',
    
    // History
    'history': 'Historique',
    'search_history': 'Rechercher dans l’historique...',
    'clear_all': 'Tout Effacer',
    'no_history': 'Aucun historique d’analyse pour le moment',
    'delete_item': 'Supprimer',
    'save_again': 'Enregistrer dans Notion',
    'view_original': 'Voir l’Original',
    'export_history': 'Exporter',
    'import_history': 'Importer',
    'history_policy': 'Politique d’Historique',
    'history_policy_desc': 'Enregistre automatiquement vos 100 derniers résultats d’analyse. Les anciens enregistrements sont automatiquement supprimés. Exportez régulièrement votre historique pour éviter toute perte de données.',
    
    // Statistics
    'statistics': 'Statistiques',
    'today': 'Aujourd’hui',
    'this_week': 'Cette Semaine',
    'this_month': 'Ce Mois',
    'total_analyses': 'Analyses Totales',
    'total_saves': 'Enregistrements Totaux',
    'analyses_count': 'analyses',
    'saves_count': 'enregistrements',
    
    // Config Import/Export
    'export_config': 'Exporter la Configuration',
    'import_config': 'Importer la Configuration',
    'config_exported': 'Configuration exportée avec succès !',
    'config_imported': 'Configuration importée avec succès !',
    'invalid_config': 'Fichier de configuration invalide'
  }
};

// Get translation function
function t(key, lang = 'en') {
  return translations[lang]?.[key] || translations['en'][key] || key;
}

// Get current UI language from storage
async function getUILanguage() {
  const result = await chrome.storage.sync.get(['uiLanguage']);
  return result.uiLanguage || 'en';
}
